## Домашнее задание "Разработка фрагмента учебного корпуса", часть 2

### Для ориентации  
* [Метаданные](https://docs.google.com/spreadsheets/d/1FvS4-A4gj9O_khXbSC1s3xMKeJyd8RtAkJwZ5fTkPLA/edit?usp=sharing) - в эту таблицу 
вы уже ранее вписали сведения о ролике и говорящих.  
* Имя файла с видео и имя файла разметки должны соответствовать `латинской метке` из таблицы метаданных, например, для метки `kalinkin` - файл `kalinkin.eaf`.  
* Метки говорящих в слоях должны строго соответствовать их меткам в таблице метаданных.  
* `LiveCorpus` (капитализация именно такая) - папка в вашем репозитории курса (lingdata), сюда кладем `.eaf` файл. 
* Напомним, один из способов создать папку на GitHub - в вашем репозитории GitHub выбрать `Add file` > `Create new file` > создать файл с именем `LiveCorpus/readme.md`> `Commit`       
* ELAN по умолчанию сохраняет .eaf файл в кодировке UTF8, не меняйте ее.  
* Не используйте кириллицу в названиях папок на пути к редактору ELAN, мультимедийным файлам и файлам ELAN.   

### Задачи этого этапа 

* сохранить видео вашего интервью на локальный компьютер     
* разметить в ELAN фрагмент вашего интервью, помещая реплики каждого говорящего в отдельном слое  
* провести токенизацию -- разбить каждый слой реплик на слова  
* сохранить итоговый `.eaf` файл и загрузить его в папку `LiveCorpus` на GitHub  

### ELAN  

#### 1. Настройка проекта  

* Cоздайте новый проект, подключите к нему видеофайл, сохраните файл разметки, назвав согласно метке     

* Если вы хотите использовать визуализацию звуковой дорожки в ELAN, переконвертируйте ваше видео в *.wav - файл (с помощью любого онлайн-конвертора, погуглите, например, "mpg to wav online"). 
В этом случае присоедините сразу видео и аудио к новому проекту.  

* Импортируйте слои из образца, с которым мы работали на семинаре (.eaf файл): Тип > Импорт...      

* Создайте слой реплик для каждого говорящего: Слой > Новый...   

```
Установите свойства слоя (для условного говорящего @aaa1988f):  
* Название слоя `text@aaa1988f`  
* Родительский слой - none   
* Тип - utterance  
Обязательно заполните пункты "говорящий" (@aaa1988f) и "разметчик" (ваш никнейм латиницей - например, может совпадать с вашим аккаунтом на GitHub). 
```

#### 2. Разметка реплик

Расшифруйте 5 минут записи (это минимальная нижняя граница, не рекомендуем расшифровывать более 7 минут, чтобы последующие домашние задания не оказались слишком длинными).     
* Прослушайте фрагмент, определите приблизительное время начала и конца реплики.  
* Вставьте реплику в слой, проведя мышкой с зажатой кнопкой от начала до конца отрезка.  
* Два раза кликните посередине, - и вы сможете вписать расшифровку. Нажмите Enter.  
* Повторно прослушайте фрагмент, уточните время начала и конца реплики.  
Фиксируйте все оговорки, фальстарты и прочие шероховатости спонтанной речи. Вставьте междометия, поддерживающие разговор (_ага_, _ну_), слова-паразиты (_гм_, _ммм_, _эээ_), недоговоренные слова (_и тут она по... вышла_), запинки (_гово... сказала_) - т. е. все, что вы можете расслышать.

``` 
* ALT + потянуть мышкой в середине аннотации -- чтобы подвинуть всю аннотацию влево/вправо  
* ALT + потянуть мышкой на левой/правой границе аннотации -- чтобы подвинуть левую/правую границу  
* ALT + d - удалить реплику (работает также копипейст и контекстное меню по правой кнопке мышки)  
* Двойной клик - редактировать содержание   
* Shift + Space -- проиграть выделенную аннотацию    
```

Совет 1: не забудьте установить замедленное проигрывание: Регулировка > Скорость... Не забывайте **регулярно сохранять** файл.  
Совет 2: если в Опциях выбрать метод сдвига таймкодов Bulldozer Mode, то при вставке новых реплик реплика справа, на которую вы случайно "наехали" по таймкоду, не будет стираться, а сдвинется вправо.  
Совет 3: если вы пишете не очень грамотно, экспортируйте файл с разметкой в текст с разделителями и проверьте его в любом сервисе проверки орфографии. Это сохранит много сил на следующих этапах работы.  
 
#### 3. Токенизация  

* Создайте дочерний слой `words...` для каждого слоя `text...`  

```
Установите свойства слоя (для условного говорящего @aaa1988f):  
* Название слоя `words@aaa1988f`  
* Родительский слой - text@aaa1988f  
* Тип - words  
Обязательно заполните пункты "говорящий" (@aaa1988f) и "разметчик" (ваш никнейм латиницей - например, может совпадать с вашим аккаунтом на GitHub). 
```

* `Слой` > `Разбить слой на слова`: укажите родительский и дочерний слой, пробел как разделитель, знаки препинания > `Начать`   
<img src="fig/elan_9.png" />

* Отредактируйте аннотации, исправив временные границы (приблизительно -- здесь точность не так важна) и ошибки автоматического деления на слова.   

```
В выделенной аннотации:
* Аннотация > Разбить... - разобъет посередине на две  
Чтобы разбить в конкретном месте аннотации, в контекстном меню выбрать Разбить аннотацию...
* Аннотация > Объединить со следующей / c предыдущей  
```

#### 4. Сохраните файл .eaf, залейте на гитхаб  


### Об особенностях расшифровки записей  

Расшифруйте запись так, как вы ее слышите, отражая все оговорки, неправильности, порядок слов, сниженную лексику, если есть. Пример расшифровки в виде текста: 

```
там спрашивают фамилию-то // я сказала / Поликарпова ты с какого года ? // ну / это / ро... родители сказали // 
а / ну да / ну да // эээ //
```

Расшифровка записывается в стандартной русской орфографии, стандартная пунктуация не ставится, но обозначаются знаками большие и малые паузы, соответствующие примерно точке и запятой в письменной речи. 
Если говорящий говорит очень долго совсем без пауз, ориентируйтесь на синтаксическую и смысловую структуру, интонацию, чтобы разбить его речь на реплики.  

* __Аббревиатуры__ записываются обычным образом (ср. ЦСКА). 
* __Неразборчиво__. Если текст в том или ином месте не удается разобрать, то используется тег `#нрзб#` (в решетках, без пробелов, именно эти четыре буквы)  
* __Одновременно__. Когда говорят несколько человек одновременно и разобрать ничего не удается, нужно использовать ремарку `#одновременно#` (в знаках решеток без пробелов). 
В случаях невербального общения (например, общий гул без ясно вычлененных реплик, смех, хмыканье) допустимо поставить отдельную реплику, например, `#смеется#`. 
Увлекаться комментированием всех действий, в том числе заполняющих паузы ("берет сковородку", "долго глядит в окно") не нужно. Пожалуйста, не используйте пробелы внутри ремарок. 
* __Что__. _Что_ в устной речи стандартно произносится как _што_, но записывать его нужно в стандартной орфографии (т. е. _что_). Это относится ко всем другим случаям стандартных расхождений между орфографией и произношением.  
* __Щас__. Варианты частиц (_сейчас_, _щас_, _ща_) в расшифровке различаются.  
* __Ммм__. Запись междометий как _м_, _мм_ или _ммм_ мы оставляем на ваше усмотрение, но для растянутого произнесения лучше не использовать более трех одинаковых буквы подряд. Растянутое произнесение гласных в других словах отображать в расшифровке не надо.     
* Индивидуальные особенности произнесения. Если говорящий имеет акцент, региональные особенности, шепелявит и т. д., то есть его речь системно отличается от литературного стандарта, отражать эти особенности в расшифровке не нужно.  
* Речевые маски и искажения. Другое дело - если говорящий в отдельных словах изображает "кавказский", "чукотский" и т. п. акцент или специально искажает слово, тогда попытайтесь это отобразить в расшифровке (например, _дэушка_ или _облизьяна_).   
* Особые знаки препинания: используйте `!`, `?` для обозначения восклицательных и вопросительных реплик, а также `...` для обозначения обрыва слова. 
* __Кавычки___ убедительно просим не ставить в разметке, они потом все ломают

Примечание: Мы во многом, но не во всем, ориентируемся на правила расшифровки в [Мультимедийном корпусе](https://processing.ruscorpora.ru/search.xml?env=alpha&env=alpha&api=1.0&mycorp=&mysent=&mysize=&mysentsize=&dpp=&spp=&spd=&mydocsize=&mode=murco&lang=ru&sort=i_grtagging&nodia=1&text=lexgramm&ext=10&nolinks=1&ell=1&parent1=0&level1=0&lex1=%D0%B2%D0%BE) Национального корпуса русского языка. 
А вот так выглядит гораздо более сложная разметка в корпусе "[Рассказы о сновидениях](http://www.spokencorpora.ru/showtrans.py?file=00dreams/NDS_021-m-z)".

